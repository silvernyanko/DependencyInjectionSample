# DependencyInjectionSample

## 概要

### ①DIコンテナについて学ぶ  
DI(Dependency Injection)とは依存性の注入のこと。  
インスタンス生成に「new」を使わずにフレームワークを活用する。  
これがを可能にするのがDIコンテナである。  
Spring Frameworkには、任意に実装したクラスをインスタンス化する機能を提供している。  
つまり、Spring Frameworkには、DIコンテナの機能を有する。  

#### 依存性を低くするためのルール

- インターフェースを利用して依存関係を作る。  
- インスタンスを明示的に生成しない。
- アノテーションをクラスに付与する。
- Spring Frameworkにインスタンス生成させる。
- インスタンスを利用したいか所でアノテーションを付与する。

### ②AOPの基礎を知る
AOPとは、「Aspect Oriented Programming : アスペクト指向プログラミング」の略。  
「中心的関心事」と「横断的関心事」、つまり「実現したいプログラム」と「例外処理」に分けてプログラムを作成する。
> <AOPの例>  
> データベースアクセス処理の作成  
> 「中心的関心事」→  データベースアクセス処理
> 「横断的関心事」→  例外処理
>
> データベースアクセス処理には例外発生時の対応処理を必ず含める必要がある。  
> さもなくばプログラムは停止し、Javaの場合は例外処理を含めないとコンパイルもできない。  
> DBアクセス処理を多数つくると、いつも同じ内容の例外処理を常に作成しなければならない。  
> そうするとコードが増えて可読性が低くなる。  
> そこで中心的関心事と横断的関心事を分離してプログラムを作成する。

## ソ－スコードの説明

1. Spring Frameworkが起動時に、対象プロジェクトのパッケージをすべてスキャン（コンポーネントスキャン）。
2. 「@Component」アノテーションが付与されているクラスのインスタンスを生成。
3. 「@Autowired」アノテーションに従い、生成されたインスタンスが、Spring Boot起動のクラスのフィールドに注入。
4. フィールド上で使用インスタンスのメソッドが実行される。

> 1. コンポーネントスキャン  
> 2. 「@Component」アノテーションが付いた、chapter03.usedパッケージの、MorningGreet(あるいはEveningGreet)クラスのインスタンスを生成。  
> 3. 「@Autowired」アノテーションに従い、MorningGreetクラスのインスタンスが、DependencyInjectionSampleApplicationクラスのgreetフィールドに注入。  
> 4. MorningGreetクラスのgreetingメソッドが実行される。
